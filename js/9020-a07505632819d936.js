"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9020],{89020:function(e,t,n){n.d(t,{k:function(){return b}});var a=n(9579),r=n(82933),s=n(51201),o=n(46228),i=n(54101),d=n(11274),l=n(43181),c=n(97377),u=n(50600),f=n(63345),m=n(12086),p=n(5260),x=n(4076);function b(e){let{children:t,agentId:n,currentName:b,route:h,isUpcoming:g=!1}=e,y=r.useId(),[j,w]=r.useState(!1),[N,v]=r.useState(!1),[D,z]=r.useState(null!=b?b:""),[R,M]=r.useTransition(),k=(0,o.useRouter)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m.DropdownMenu,{children:[(0,a.jsx)(m.DropdownMenuTrigger,{asChild:!0,children:t||(0,a.jsxs)(f.z,{type:"button",variant:"ghost",size:"icon",className:"hover:bg-hover size-7",children:[(0,a.jsx)("span",{className:"sr-only",children:"Actions"}),(0,a.jsx)(i.x,{className:"size-4","aria-hidden":"true"})]})}),(0,a.jsxs)(m.DropdownMenuContent,{align:"end",children:[h?(0,a.jsx)(m.DropdownMenuItem,{asChild:!0,children:(0,a.jsx)(s.default,{"aria-label":"View agent",href:h,children:"View"})}):null,!g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.DropdownMenuItem,{onSelect:()=>w(!0),"aria-label":"rename agent",children:"Rename"}),(0,a.jsx)(m.DropdownMenuSeparator,{}),(0,a.jsxs)(m.DropdownMenuItem,{"aria-label":"delete agent",onSelect:()=>v(!0),children:["Delete",(0,a.jsx)(m.DropdownMenuShortcut,{children:"⌘⌫"})]})]})]})]}),(0,a.jsx)(u.aR,{open:j,onOpenChange:w,children:(0,a.jsx)(u._T,{children:(0,a.jsxs)("form",{id:"".concat(y,"-rename-agent-form"),className:"grid gap-4",onSubmit:e=>{e.preventDefault(),M(async()=>{try{await (0,l.Dc)({id:n,name:D}),w(!1),d.toast.success("Name Updated Successfully.")}catch(e){d.toast.error("There was an issue, try again")}})},children:[(0,a.jsxs)(u.fY,{children:[(0,a.jsx)(u.f$,{children:"Rename agent"}),(0,a.jsx)(u.yT,{children:(0,a.jsx)(p.I,{name:"".concat(y,"-rename-agent"),value:D,onChange:e=>z(e.target.value)})})]}),(0,a.jsxs)(u.xo,{children:[(0,a.jsx)(u.le,{children:"Cancel"}),(0,a.jsxs)(f.z,{"aria-label":"Save agent rename",disabled:R,children:[R&&(0,a.jsx)(x.P.spinner,{className:"mr-2 size-4 animate-spin","aria-hidden":"true"}),"Save"]})]})]})})}),(0,a.jsx)(u.aR,{open:N,onOpenChange:v,children:(0,a.jsxs)(u._T,{children:[(0,a.jsxs)(u.fY,{children:[(0,a.jsx)(u.f$,{children:"Are you sure absolutely sure?"}),(0,a.jsx)(u.yT,{children:"This action cannot be undone. This agent will no longer be accessible by you or others you've shared it with."})]}),(0,a.jsxs)(u.xo,{children:[(0,a.jsx)(u.le,{children:"Cancel"}),(0,a.jsx)(u.OL,{asChild:!0,children:(0,a.jsx)(f.z,{type:"button","aria-label":"Confirm agent deletion",variant:"destructive",onClick:()=>{M(()=>{d.toast.promise((0,l.qt)({id:n}),{loading:"Deleting...",success:()=>(v(!1),k.push("/legacy"),"Agent deleted successfully."),error:e=>(v(!1),(0,c.e)(e))})})},disabled:R,children:R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.P.spinner,{className:"mr-2 size-4 animate-spin","aria-hidden":"true"}),"Deleting"]}):"Delete"})})]})]})})]})}},50600:function(e,t,n){n.d(t,{OL:function(){return h},_T:function(){return f},aR:function(){return d},f$:function(){return x},fY:function(){return m},le:function(){return g},vW:function(){return l},xo:function(){return p},yT:function(){return b}});var a=n(9579),r=n(82933),s=n(93795),o=n(15780),i=n(63345);let d=s.fC,l=s.xz,c=e=>{let{...t}=e;return(0,a.jsx)(s.h_,{...t})};c.displayName=s.h_.displayName;let u=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(s.aV,{className:(0,o.cn)("bg-background/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 backdrop-blur-sm",n),...r,ref:t})});u.displayName=s.aV.displayName;let f=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(s.VY,{ref:t,className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 sm:rounded-lg md:w-full",n),...r})]})});f.displayName=s.VY.displayName;let m=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};m.displayName="AlertDialogHeader";let p=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};p.displayName="AlertDialogFooter";let x=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(s.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold",n),...r})});x.displayName=s.Dx.displayName;let b=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(s.dk,{ref:t,className:(0,o.cn)("text-muted-foreground text-sm",n),...r})});b.displayName=s.dk.displayName;let h=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(s.aU,{ref:t,className:(0,o.cn)((0,i.d)(),n),...r})});h.displayName=s.aU.displayName;let g=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(s.$j,{ref:t,className:(0,o.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",n),...r})});g.displayName=s.$j.displayName},63345:function(e,t,n){n.d(t,{d:function(){return l},z:function(){return c}});var a=n(9579),r=n(82933),s=n(84488),o=n(67502),i=n(15865),d=n(15780);let l=(0,i.j)("focus-visible:ring-ring inline-flex items-center justify-center whitespace-nowrap rounded-sm text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border-input bg-background hover:bg-accent hover:text-accent-foreground border shadow-sm",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-11 px-8",icon:"size-9","icon-sm":"size-6"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:n,variant:r,size:i,asChild:c=!1,isLoading:u=!1,children:f,...m}=e,p=c?o.g7:"button";return c?(0,a.jsx)(p,{className:(0,d.cn)(l({variant:r,size:i,className:n})),ref:t,...m,children:f}):(0,a.jsxs)(p,{className:(0,d.cn)(l({variant:r,size:i,className:n})),ref:t,disabled:m.disabled||u,...m,children:[u&&(0,a.jsx)(s.$,{className:"mr-2 size-5 animate-spin"}),f]})});c.displayName="Button"},12086:function(e,t,n){n.r(t),n.d(t,{DropdownMenu:function(){return c},DropdownMenuCheckboxItem:function(){return j},DropdownMenuContent:function(){return g},DropdownMenuGroup:function(){return f},DropdownMenuItem:function(){return y},DropdownMenuLabel:function(){return N},DropdownMenuPortal:function(){return m},DropdownMenuRadioGroup:function(){return x},DropdownMenuRadioItem:function(){return w},DropdownMenuSeparator:function(){return v},DropdownMenuShortcut:function(){return D},DropdownMenuSub:function(){return p},DropdownMenuSubContent:function(){return h},DropdownMenuSubTrigger:function(){return b},DropdownMenuTrigger:function(){return u}});var a=n(9579),r=n(82933),s=n(20668),o=n(81677),i=n(56993),d=n(81704),l=n(15780);let c=d.fC,u=d.xz,f=d.ZA,m=d.Uv,p=d.Tr,x=d.Ee,b=r.forwardRef((e,t)=>{let{className:n,inset:r,children:o,...i}=e;return(0,a.jsxs)(d.fF,{ref:t,className:(0,l.cn)("focus:bg-accent data-[state=open]:bg-accent flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none",r&&"pl-8",n),...i,children:[o,(0,a.jsx)(s.T,{className:"ml-auto size-4","aria-hidden":"true"})]})});b.displayName=d.fF.displayName;let h=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(d.tu,{ref:t,className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg",n),...r})});h.displayName=d.tu.displayName;let g=r.forwardRef((e,t)=>{let{className:n,sideOffset:r=4,...s}=e;return(0,a.jsx)(d.Uv,{children:(0,a.jsx)(d.VY,{ref:t,sideOffset:r,className:(0,l.cn)("bg-popover text-popover-foreground z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})})});g.displayName=d.VY.displayName;let y=r.forwardRef((e,t)=>{let{className:n,inset:r,...s}=e;return(0,a.jsx)(d.ck,{ref:t,className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",n),...s})});y.displayName=d.ck.displayName;let j=r.forwardRef((e,t)=>{let{className:n,children:r,checked:s,...i}=e;return(0,a.jsxs)(d.oC,{ref:t,className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:s,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(d.wU,{children:(0,a.jsx)(o.J,{className:"size-4","aria-hidden":"true"})})}),r]})});j.displayName=d.oC.displayName;let w=r.forwardRef((e,t)=>{let{className:n,children:r,...s}=e;return(0,a.jsxs)(d.Rk,{ref:t,className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(d.wU,{children:(0,a.jsx)(i.K,{className:"size-4 fill-current","aria-hidden":"true"})})}),r]})});w.displayName=d.Rk.displayName;let N=r.forwardRef((e,t)=>{let{className:n,inset:r,...s}=e;return(0,a.jsx)(d.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",n),...s})});N.displayName=d.__.displayName;let v=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(d.Z0,{ref:t,className:(0,l.cn)("bg-muted -mx-1 my-1 h-px",n),...r})});v.displayName=d.Z0.displayName;let D=e=>{let{className:t,...n}=e;return(0,a.jsx)("span",{className:(0,l.cn)("ml-auto text-xs tracking-widest opacity-60",t),...n})};D.displayName="DropdownMenuShortcut"},5260:function(e,t,n){n.d(t,{I:function(){return o}});var a=n(9579),r=n(82933),s=n(15780);let o=r.forwardRef((e,t)=>{let{className:n,type:r,...o}=e;return(0,a.jsx)("input",{type:r,className:(0,s.cn)("placeholder:text-muted-extra focus-visible:ring-ring border-input flex h-9 w-full rounded-sm border bg-transparent px-3 py-1 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...o})});o.displayName="Input"},43181:function(e,t,n){n.d(t,{Dc:function(){return r},FD:function(){return o},qt:function(){return s}}),n(21816);var a=n(33557);(0,a.$)("107cd9e584ab83aa36fc22b5a58e822e3aa1322d"),(0,a.$)("b4b7ed0082582c2d2a83ad4a56b4bf691f822c24");var r=(0,a.$)("51e1569511a95322f9b3940b1c229d14139d52af"),s=(0,a.$)("74d872c30ff938bd3bff035b1ce62181cb6a7607");(0,a.$)("7500a5dcc5e5c8344923d101630e8a1e8037a852"),(0,a.$)("de317242d366716aaa5829295f60d6f303172557"),(0,a.$)("45b5bea1d26600586cb06d7cbf0535149eaa88cc"),(0,a.$)("9a945c56942937e37682724fe7a7276225179c58"),(0,a.$)("6ddbd081543209f121bded2f66c4da8046d7fabc");var o=(0,a.$)("ab368d880585f98f4aa6e821e14a0b06a72b0230")},84298:function(e,t,n){n.d(t,{D:function(){return r},U:function(){return a}});let a="An unknown error occurred. Please try again later.",r={signIn:"/signin",signUp:"/signup",signOut:"/signout",afterSignIn:"/~",afterSignUp:"/~"}},97377:function(e,t,n){n.d(t,{E:function(){return l},e:function(){return d}});var a=n(48089),r=n(26580),s=n(11274),o=n(45688),i=n(84298);function d(e){var t,n,s;if(e instanceof o.z.ZodError)return null===(t=e.errors[0])||void 0===t?void 0:t.message;if((0,r.kD)(e))return null!==(s=null===(n=e.errors[0])||void 0===n?void 0:n.longMessage)&&void 0!==s?s:i.U;if((0,a.isRedirectError)(e))throw e;return e instanceof Error?e.message:i.U}function l(e){let t=d(e);return s.toast.error(t)}}}]);